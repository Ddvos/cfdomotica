(function(e){function t(t){for(var s,i,o=t[0],c=t[1],d=t[2],l=0,f=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={app:0},a=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),r=n.n(s);r.a},"041c":function(e,t,n){e.exports=n.p+"media/WORLD_50fps_1_keyframe.6d819c54.mp4"},"0c52":function(e,t,n){"use strict";var s=n("d100"),r=n.n(s);r.a},1:function(e,t){},"1e7c":function(e,t,n){e.exports=n.p+"media/WORLD_50fps.2ef574b9.mp4"},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={name:"app"},o=i,c=(n("034f"),n("2877")),d=Object(c["a"])(o,r,a,!1,null,null,null),u=d.exports,l=n("8c4f"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[e._m(0),e._m(1),s("div",{staticClass:"album py-5 bg-light"},[s("div",{staticClass:"transmit"},[s("h3",[e._v("Transmit OSC data")]),s("a",{staticClass:"btn btn-primary",attrs:{href:"#"}},[e._v("Turn something on")]),s("br"),s("div",{staticClass:"wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:e.value},on:{input:e.sendSlider,__r:function(t){e.value=t.target.value}}}),s("span",{domProps:{textContent:e._s(e.total)}})])]),s("div",{staticClass:"receive"},[s("h3",[e._v("Receive OSC data")]),s("div",{attrs:{id:"messageArea"}},[s("p",{attrs:{id:"messageLabel"}},[e._v("Remote OSC Message:")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-4"},[s("p",[e._v(e._s(this.address))]),s("div",{staticClass:"color",style:{"background-color":this.message}})]),s("div",{staticClass:"col-4"},[s("p",[e._v(e._s(this.address2))]),s("p",[e._v(e._s(this.message2))])]),s("div",{staticClass:"col-2"})])])]),s("div",{staticClass:"container"},[s("div",{staticClass:"broadcasting"}),s("div",{staticClass:"animation"},[s("video",{ref:"myVideo",attrs:{id:"myVideo",width:"650",height:"360"},on:{mousemove:e.updateCoordinates}},[s("source",{attrs:{src:n("1e7c"),type:"video/mp4"}}),e._v(" Your browser does not support the video tag. ")]),s("p",[e._v(" Coordinates: "+e._s(e.x)+" "),s("br")])])])]),e._m(2),s("button",{on:{click:e.greet}},[e._v("send")])])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar navbar-dark bg-dark shadow-sm"},[n("div",{staticClass:"container"},[n("a",{staticClass:"navbar-brand d-flex align-items-center",attrs:{href:"#"}},[n("strong",[e._v("Circus Family")])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row py-lg-5"},[n("div",{staticClass:"col-lg-6 col-md-8 mx-auto"},[n("h1",{staticClass:"font-weight-light"},[e._v("Domotica Control")]),n("p",{staticClass:"lead text-muted"},[e._v("Via this page you can transmit and receive OSC data.")]),n("p")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-muted py-5"},[n("div",{staticClass:"container"},[n("p",{staticClass:"mb-1"},[e._v("Domotica control is Â© Circus family")])])])}],m=(n("caad"),n("b680"),n("2532"),n("f28c")),v=n.n(m),h=(n("a881"),new v.a.WebSocketPort({url:"wss://circusfamilyprojects.nl:8084"}));h.open();var g={data:function(){return{value:60,addressen:[],message:"",address:"",message2:"",address2:"",videoTime:30,x:0}},created:function(){this.OSCMessage()},computed:{total:function(){return this.value}},methods:{updateCoordinates:function(e){var t=myVideo.getBoundingClientRect();console.log(t.right,t.left),this.x=(e.clientX-t.left)*(5/(t.right-t.left)),this.x=this.x.toFixed(2),console.log(this.x),this.$refs.myVideo.currentTime=this.x,h.send({address:"/mousePosition ",args:[this.x]})},videoPlayBack:function(){},greet:function(){h.send({address:"/hello",args:["De slider werkt!"]})},sendSlider:function(){h.send({address:"/hello",args:[this.value]})},OSCMessage:function(){var e=this;h.on("message",(function(t){e.OSCMessages(t)}))},OSCMessages:function(e){var t=this.addressen.includes(e.address);0==t&&this.addressen.push(e.address),e.address==this.addressen[0]&&(this.message="rgb("+e.args+")",this.address=e.address),e.address==this.addressen[1]&&(this.message2=e.args,this.address2=e.address)}}},b=g,w=(n("fb5b"),Object(c["a"])(b,f,p,!1,null,"5ddcbe9c",null)),y=w.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",style:{backgroundColor:this.color}})},_=[],x=new v.a.WebSocketPort({url:"wss://circusfamilyprojects.nl:8084"});x.open();var O={data:function(){return{value:60,addressen:[],rood:"",address:"",groen:"",address2:"",blauw:"",color:""}},created:function(){this.OSCMessage()},computed:{total:function(){return this.value}},methods:{greet:function(){x.send({address:"/hello",args:["De slider werkt!"]})},sendSlider:function(){x.send({address:"/hello",args:[this.value]})},OSCMessage:function(){var e=this;x.on("message",(function(t){console.log(t),e.OSCMessages(t)}))},OSCMessages:function(e){"/rood"==e.address&&(this.rood=e.args[0]),"/groen"==e.address&&(this.groen=e.args[0]),"/blauw"==e.address&&(this.blauw=e.args[0]),this.color="rgb("+this.rood+","+this.groen+","+this.blauw+")"}}},S=O,k=(n("ecb2"),Object(c["a"])(S,C,_,!1,null,"9b71f826",null)),V=k.exports,R=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Live Video Stream (broadcast)")]),n("video",{attrs:{mute:"true",playsinline:"",autoplay:"",id:"v",width:"50%",height:"50%"}})])}],M=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("b85c")),E=(n("96cf"),n("1da1")),P=(n("8055"),{data:function(){return{}},mounted:function(){Object(E["a"])(regeneratorRuntime.mark((function e(){var t,n,s,r,a,i,o,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={iceServers:[{urls:["stun:stun.l.google.com:19302"]}]},n=function(){return Math.floor(1e4*Math.random())},s=n(),r="camera",a=new Map,o=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return",i);case 2:return e.abrupt("return",new Promise((function(e,s){try{window.location.protocol;i=new WebSocket("wss://circusfamilyprojects.nl:4084");var r=function s(){i.send(JSON.stringify({type:"register",peerType:n,peerId:t})),i.removeEventListener("open",s),e(i)};i.addEventListener("open",r)}catch(a){s(a)}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=6,console.log("in camera"),e.next=10,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 10:return c=e.sent,window.v.srcObject=c,e.next=14,o(s,r);case 14:d=e.sent,d.addEventListener("message",function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(n){var r,i,o,u,l,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=JSON.parse(n.data),console.log("msg",r),"screens"!==r.type){e.next=19;break}i=Object(M["a"])(r.screens),e.prev=4,u=regeneratorRuntime.mark((function e(){var n,r,i,u,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=o.value,r=new RTCPeerConnection(t),a.set(n,r),i=Object(M["a"])(c.getTracks());try{for(i.s();!(u=i.n()).done;)l=u.value,r.addTrack(l,c)}catch(p){i.e(p)}finally{i.f()}return e.next=7,r.createOffer();case 7:return f=e.sent,e.next=10,r.setLocalDescription(f);case 10:r.onicecandidate=function(e){e.candidate&&d.send(JSON.stringify({type:"candidate",from:s,to:n,data:e.candidate}))},d.send(JSON.stringify({type:"offer",to:n,from:s,data:r.localDescription}));case 12:case"end":return e.stop()}}),e)})),i.s();case 7:if((o=i.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](4),i.e(e.t1);case 16:return e.prev=16,i.f(),e.finish(16);case 19:"answer"===r.type&&(l=a.get(r.from),l.setRemoteDescription(r.data)),"disconnect"===r.type&&(f=a.get(r.from),f&&(console.log("Disconnecting from",r.from),f.close(),a.delete(r.from))),"candidate"===r.type&&(p=a.get(r.from),p&&(console.log("Adding candidate to",r.from),p.addIceCandidate(new RTCIceCandidate(r.data))));case 22:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](6),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,18]])})))()},computed:{},methods:{}}),T=P,L=(n("6bc9"),Object(c["a"])(T,R,j,!1,null,"5c50c66e",null)),D=L.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Live Video Stream (receiving)")]),n("video",{attrs:{mute:"true",playsinline:"",autoplay:"",id:"v",width:"50%",height:"50%"}}),e._m(0),n("div",{attrs:{id:"wait"}},[e._v(" Waiting for someone to connect. ")]),n("p",[e._v(" timer: "+e._s(e.timer)+" "),n("br")])])},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hidden",attrs:{id:"controls"}},[n("div",[e._v("Someone is here! Press Play.")]),n("button",{attrs:{id:"play"}},[e._v(" Play ")])])}],W=new v.a.WebSocketPort({url:"wss://circusfamilyprojects.nl:8084"});W.open();var N={data:function(){return{timer:""}},created:function(){this.OSCMessage()},mounted:function(){Object(E["a"])(regeneratorRuntime.mark((function e(){var t,n,s,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={iceServers:[{urls:["stun:stun.l.google.com:19302"]}]},window.play.addEventListener("click",(function(){try{window.v.play(),window.controls.classList.add("hidden")}catch(e){console.error(e)}})),n=function(){return Math.floor(1e4*Math.random())},s=n(),r="screen",a=new Map,o=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return",i);case 2:return e.abrupt("return",new Promise((function(e,s){try{window.location.protocol;i=new WebSocket("wss://circusfamilyprojects.nl:4084");var r=function s(){i.send(JSON.stringify({type:"register",peerType:n,peerId:t})),i.removeEventListener("open",s),e(i)};i.addEventListener("open",r)}catch(a){s(a)}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=7,console.log("in screen"),e.next=11,o(s,r);case 11:c=e.sent,c.addEventListener("message",function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(n){var r,i,o,d,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=JSON.parse(n.data),console.log("msg",r),"offer"!==r.type){e.next=17;break}return i=new RTCPeerConnection(t),a.set(r.from,i),i.ontrack=function(e){console.log("on track",e),window.v.srcObject=e.streams[0],window.wait.classList.add("hidden"),window.controls.classList.remove("hidden")},i.onicecandidate=function(e){e.candidate&&c.send(JSON.stringify({type:"candidate",from:s,to:r.from,data:e.candidate}))},e.next=10,i.setRemoteDescription(r.data);case 10:return e.next=12,i.createAnswer();case 12:return o=e.sent,e.next=15,i.setLocalDescription(o);case 15:console.log("sending answer"),c.send(JSON.stringify({to:r.from,from:s,type:"answer",data:i.localDescription}));case 17:"disconnect"===r.type&&(d=a.get(r.from),d&&(console.log("Disconnecting from",r.from),d.ontrack=null,d.onicecandidate=null,d.close(),a.delete(r.from))),"candidate"===r.type&&(u=a.get(r.from),u&&(console.log("Adding candidate to",r.from),u.addIceCandidate(new RTCIceCandidate(r.data)))),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](7),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})))()},computed:{},methods:{OSCMessage:function(){var e=this;W.on("message",(function(t){e.OSCMessages(t)}))},OSCMessages:function(e){"/timer"==e.address&&(this.timer=e.args,console.log(this.timer))}}},B=N,F=(n("c06d"),Object(c["a"])(B,$,J,!1,null,"28f2f32c",null)),I=F.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("br"),e._m(0),s("br"),s("br"),s("transition",{attrs:{name:"fade"}},[e.hideVideo1?e._e():s("video",{ref:"myVideo1",staticClass:"animatieVideo",attrs:{id:"myVideo1"},on:{mousemove:e.updateCoordinates1,click:e.sendtoStudio}},[s("source",{attrs:{src:n("c5c4"),type:"video/mp4"}}),e._v(" Your browser does not support the video tag. ")])]),s("br"),s("br"),s("transition",{attrs:{name:"fade"}},[e.hideVideo2?e._e():s("video",{ref:"myVideo2",staticClass:"animatieVideo",attrs:{id:"myVideo2"},on:{mousemove:e.updateCoordinates2}},[s("source",{attrs:{src:n("041c"),type:"video/mp4"}}),e._v(" Your browser does not support the video tag. ")])]),s("br"),s("br"),s("transition",{attrs:{name:"fade"}},[e.hideVideo3?e._e():s("video",{ref:"myVideo3",staticClass:"animatieVideo",attrs:{id:"myVideo3"},on:{mousemove:e.updateCoordinates3}},[s("source",{attrs:{src:n("9047"),type:"video/mp4"}}),e._v(" Your browser does not support the video tag. ")])])],1)},A=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-2"}),n("div",{staticClass:"col-sm-8"}),n("div",{staticClass:"col-sm-2"})])])}],X=new v.a.WebSocketPort({url:"wss://circusfamilyprojects.nl:8084"});X.open();var H={data:function(){return{value:60,addressen:[],message:"",address:"",message2:"",address2:"",videoTime:30,x1:0,x2:0,x3:0,hideVideo1:!1,hideVideo2:!1,hideVideo3:!1,click:1}},created:function(){this.OSCMessage()},computed:{total:function(){return this.value}},methods:{updateCoordinates1:function(e){var t=myVideo1.getBoundingClientRect();this.x1=(e.clientX-t.left)*(5/(t.right-t.left)),this.x1=this.x1.toFixed(2),console.log(this.x1),this.$refs.myVideo1.currentTime=this.x1,X.send({address:"/mousePosition1",args:[this.x1]})},updateCoordinates2:function(e){var t=myVideo2.getBoundingClientRect();this.x2=(e.clientX-t.left)*(5/(t.right-t.left)),this.x2=this.x2.toFixed(2),console.log(this.x2),this.$refs.myVideo2.currentTime=this.x2},updateCoordinates3:function(e){var t=myVideo3.getBoundingClientRect();this.x3=(e.clientX-t.left)*(1/(t.right-t.left)),this.x3=this.x3.toFixed(2),console.log(this.x3),this.$refs.myVideo3.currentTime=this.x3},OSCMessage:function(){var e=this;X.on("message",(function(t){e.OSCMessages(t)}))},OSCMessages:function(e){"/hideVideo1"==e.address&&1==e.args?this.hideVideo1=!0:"/hideVideo1"==e.address&&0==e.args&&(this.hideVideo1=!1),"/hideVideo2"==e.address&&1==e.args?this.hideVideo2=!0:"/hideVideo2"==e.address&&0==e.args&&(this.hideVideo2=!1),"/hideVideo3"==e.address&&1==e.args?this.hideVideo3=!0:"/hideVideo3"==e.address&&0==e.args&&(this.hideVideo3=!1)},sendtoStudio:function(){return 1==this.click?(X.send({address:"/videoClick",args:[this.click]}),console.log(this.click),void(this.click=0)):0==this.click?(X.send({address:"/videoClick",args:[]}),console.log(this.click),void(this.click=1)):void 0}}},K=H,U=(n("0c52"),Object(c["a"])(K,Y,A,!1,null,"225d13da",null)),q=U.exports;s["a"].use(l["a"]);var z=new l["a"]({routes:[{path:"/",name:"/Home",component:y},{path:"/signify",name:"/Sifnify",component:V},{path:"/broadcast",name:"/Broadcast",component:D},{path:"/robeco",name:"/Robeco",component:q},{path:"/livestream",name:"/Livestream",component:I}]});s["a"].config.productionTip=!1,new s["a"]({router:z,render:function(e){return e(u)}}).$mount("#app")},"6bc9":function(e,t,n){"use strict";var s=n("fe9a"),r=n.n(s);r.a},"85ec":function(e,t,n){},9047:function(e,t,n){e.exports=n.p+"media/ROBECO_3D_WEBSITE_50FPS_1_KEYFRAME_1.47c90503.mp4"},c06d:function(e,t,n){"use strict";var s=n("c358"),r=n.n(s);r.a},c358:function(e,t,n){},c542:function(e,t,n){},c5c4:function(e,t,n){e.exports=n.p+"media/SLDER.db44aedd.mp4"},cc58:function(e,t,n){},d100:function(e,t,n){},ecb2:function(e,t,n){"use strict";var s=n("c542"),r=n.n(s);r.a},fb5b:function(e,t,n){"use strict";var s=n("cc58"),r=n.n(s);r.a},fe9a:function(e,t,n){}});
//# sourceMappingURL=app.f098d42b.js.map